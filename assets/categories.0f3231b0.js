import{d as $,j as Y,u as B,a as P,o,b as s,g as f,t as p,f as t,h as v,F as C,a2 as I,e as L,c as h,w as d,q as u,y as R,a3 as S,a4 as T,K as w,W as D,a5 as H,Y as K,M,$ as O}from"./app.dd548694.js";import{_ as W}from"./YunCard.vue_vue_type_style_index_0_lang.c287dc66.js";import{_ as A}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.b8e1fc4f.js";import{_ as G}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.c31f4070.js";const J={key:0,class:"category-list-item inline-flex items-center cursor-pointer"},Q={key:0,"i-ri-folder-add-line":""},X={key:1,style:{color:"var(--va-c-primary)"},"i-ri-folder-reduce-line":""},Z={key:0},ee=f("div",{"i-ri-file-text-line":""},null,-1),te={m:"l-1",font:"serif black"},oe=$({__name:"YunCategory",props:{name:null,category:null,level:null,displayCategory:null,collapsable:{type:Boolean,default:!0}},setup(e){const l=Y(e.collapsable),{t:y,locale:m}=B(),n=r=>{const a=m.value==="zh-CN"?"zh":m.value;return r[`title_${a}`]?r[`title_${a}`]:r.title};return(r,a)=>{const _=P("router-link"),k=N;return o(),s(C,null,[e.category.total?(o(),s("li",J,[f("span",{class:"folder-action inline-flex",onClick:a[0]||(a[0]=c=>l.value=!l.value)},[l.value?(o(),s("div",Q)):(o(),s("div",X))]),f("span",{class:"category-name",m:"l-1",onClick:a[1]||(a[1]=c=>e.displayCategory?e.displayCategory(e.name):null)},p(e.name==="Uncategorized"?t(y)("category.uncategorized"):e.name)+" ["+p(e.category.total)+"] ",1)])):v("v-if",!0),l.value?v("v-if",!0):(o(),s(C,{key:1},[t(I)(e.category)?(o(),h(k,{key:1,categories:e.category.children,"display-category":e.displayCategory,collapsable:l.value},null,8,["categories","display-category","collapsable"])):(o(),s("ul",Z,[(o(!0),s(C,null,L(e.category.posts,(c,b)=>(o(),s("li",{key:b,class:"post-list-item",m:"l-4"},[c.title?(o(),h(_,{key:0,to:c.path||"",class:"inline-flex items-center"},{default:d(()=>[ee,f("span",te,p(n(c)),1)]),_:2},1032,["to"])):v("v-if",!0)]))),128))]))],64))],64)}}}),N=$({__name:"YunCategories",props:{categories:null,level:{default:0},displayCategory:null,collapsable:{type:Boolean,default:!0}},setup(e){const l=Y(e.collapsable);return(y,m)=>{const n=oe;return o(!0),s(C,null,L(Object.fromEntries(e.categories),(r,a)=>(o(),s("ul",{key:a,class:"category-list",m:"l-4"},[u(n,{name:a.toString(),category:r,level:e.level+1,"display-category":e.displayCategory,collapsable:l.value},null,8,["name","category","level","display-category","collapsable"])]))),128)}}});const ae={text:"center",class:"yun-text-light",p:"2"},ce=$({__name:"categories",setup(e){const{t:g}=B(),l=R(),y=S(),m=T(),n=w(()=>m.query.category||""),r=D(),a=w(()=>r.value.filter(i=>i.categories&&n.value!=="Uncategorized"?typeof i.categories=="string"?i.categories===n.value:i.categories.includes(n.value):!i.categories&&n.value==="Uncategorized"?i.categories===void 0:!1)),_=Y(),{show:k}=H(_),c=K(),b=x=>{c.push({query:{category:x}}),k()},U=M(l);return(x,i)=>{const z=G,q=N,E=P("router-view"),F=A,V=W,j=O;return o(),h(j,null,{"main-header":d(()=>[u(z,{title:t(U)||t(g)("menu.categories"),icon:t(l).icon||"i-ri-folder-2-line",color:t(l).color},null,8,["title","icon","color"])]),"main-content":d(()=>[f("div",ae,p(t(g)("counter.categories",t(y).children.size)),1),u(q,{categories:t(y).children,"display-category":b},null,8,["categories"]),u(E)]),"main-nav-before":d(()=>[t(n)?(o(),h(V,{key:0,ref_key:"collapse",ref:_,m:"t-4",w:"full"},{default:d(()=>[u(z,{title:t(n)==="Uncategorized"?t(g)("category.uncategorized"):t(n),icon:"i-ri-folder-open-line"},null,8,["title"]),u(F,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:t(a)},null,8,["posts"])]),_:1},512)):v("v-if",!0)]),_:1})}}});export{ce as default};
